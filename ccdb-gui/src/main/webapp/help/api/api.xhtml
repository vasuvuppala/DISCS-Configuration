<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- 
   This software is Copyright by the Board of Trustees of Michigan
   State University (c) Copyright 2013, 2014.
   
   You may use this software under the terms of the GNU public license
   (GPL). The terms of this license are described at:
   http://www.gnu.org/licenses/gpl.txt
   
   Contact Information:
        Facility for Rare Isotope Beam
        Michigan State University
        East Lansing, MI 48824-1321
        http://frib.msu.edu
-->

<!--API Manual-->

<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"              
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:fc="http://java.sun.com/jsf/composite/comps">

    <p>The following table lists the interfaces to manage various CCDB resources. It lists the resource name, 
        its URI, the HTTP method, its parameters, and the response from the API to the method. </p>
    <p:panel header='Application Programming Interface'  toggleable="true">
        <p:panelGrid style="text-align: left">  
            <f:facet name="header">  
                <p:row>  
                    <p:column>Resource</p:column>  
                    <p:column>Method</p:column>  
                    <p:column>Resource ID</p:column>  
                    <p:column style="width:20%">Description</p:column> 
                    <p:column>Returns</p:column>
                    <p:column>Path/Parameter</p:column> 
                    <p:column style="width:30%">Examples</p:column> 
                </p:row>  
            </f:facet>  

            <p:row>  
                <p:column>ApprovalStatus</p:column>  
                <p:column>GET</p:column>  
                <p:column>/report/status</p:column>  
                <p:column>List of status records</p:column>
                <p:column>List of <i>approvalStatus</i></p:column>
                <p:column> 
                    <ul><li><b>prefix</b> (optional): Slot name prefix</li></ul>
                </p:column> 
                <p:column>
                    <ul>
                        <li>#{msgs.apiBaseUrl}/report/status</li>
                        <li>#{msgs.apiBaseUrl}/report/status?prefix=FE</li>
                    </ul>
                </p:column> 
            </p:row>

            <p:row>  
                <p:column  rowspan="2">Device</p:column>
                <p:column>GET</p:column>  
                <p:column>
                    /device               
                </p:column>  
                <p:column>Device</p:column> 
                <p:column>List of <i>device</i></p:column>
                <p:column>
                    <ul>
                        <li><b>name</b> (optional): All slots that contain the given string are returned</li>
                        <li><b>type</b> (optional): All slots with device types that contain the given string are returned</li>
                        <li><b>tag</b> (optional): All slots whose tags match the given string are returned</li>                    
                    </ul>                  
                </p:column> 
                <p:column>
                    <ul>
                        <li>#{msgs.apiBaseUrl}/device</li>
                        <li>#{msgs.apiBaseUrl}/device/T30511-EDE-7500-0001-S00001</li>
                        <li>#{msgs.apiBaseUrl}/device?name=MDE</li>
                        <li>#{msgs.apiBaseUrl}/device?type=Q7</li>
                        <li>#{msgs.apiBaseUrl}/device?type=Q7&amp;name=EDE</li>
                    </ul>
                </p:column> 
            </p:row>
             <p:row>  
                <!--<p:column>Device</p:column>-->
                <p:column>GET</p:column>  
                <p:column>             
                    /device/{inventory-id}              
                </p:column>  
                <p:column>Details of the given device</p:column> 
                <p:column>A <i>device</i></p:column>
                <p:column>
                                  
                </p:column> 
                <p:column>
                    <ul>
                        <li>#{msgs.apiBaseUrl}/device/T30511-EDE-7500-0001-S00001</li>                       
                    </ul>
                </p:column> 
            </p:row>

            <p:row>  
                <p:column rowspan="2">Device type</p:column>
                <p:column>GET</p:column>  
                <p:column>/deviceType</p:column>  
                <p:column>Device Types</p:column> 
                <p:column>List of <i>deviceType</i></p:column>
                <p:column>
                    <ul><li><b>name</b>: Device types that contain the given string in their names</li></ul>                              
                </p:column> 
                <p:column>
                    <ul><li>#{msgs.apiBaseUrl}/deviceType</li>                       
                    </ul>
                </p:column> 
            </p:row>
            <p:row>  
                <!--<p:column>Device type</p:column>-->
                <p:column>GET</p:column>  
                <p:column>/deviceType/{type-name}</p:column>  
                <p:column>Details of the given Device Types</p:column> 
                <p:column>A <i>deviceType</i></p:column>
                <p:column>
                                               
                </p:column> 
                <p:column>
                    <ul>
                        <li>#{msgs.apiBaseUrl}/deviceType/ELC1</li>
                    </ul>
                </p:column> 
            </p:row>
            
            <p:row>  
                <p:column>Path</p:column>  
                <p:column>GET</p:column>  
                <p:column>/path</p:column>  
                <p:column>
                    List of paths between two elements. A path is a sequence of elements. If start is not given, all sources are assumed. 
                    If end is not give, all endpoints are assumed. If neither is given, paths between all combinations of sources and endpoints are generated.
                </p:column>
                <p:column>List of <i>element</i></p:column>
                <p:column> 
                    <ul>
                        <li><b>start</b> (optional): From this element</li>
                        <li><b>end</b> (optional): To this element</li>
                    </ul>
                </p:column> 
                <p:column>                  
                    <ul>
                        <li>#{msgs.apiBaseUrl}/path?start=FE_ISRC2:ELC1_D0665&amp;end=FE_BTS:FC_D1100</li> 
                        <li>#{msgs.apiBaseUrl}/path?start=FE_ISRC2:ELC1_D0665</li> 
                        <li>#{msgs.apiBaseUrl}/path?end=FE_BTS:FC_D1100</li> 
                        <li>#{msgs.apiBaseUrl}/path</li>
                    </ul>
                </p:column> 
            </p:row>

            <p:row>  
                <p:column rowspan="2">Property</p:column>  
                <p:column>GET</p:column>  
                <p:column>
                    /property                                         
                </p:column>  
                <p:column>
                    List of properties.
                </p:column>
                <p:column>List of <i>property</i></p:column>
                <p:column> 
                    <ul>
                        <li><b>name</b> (optional): Properties that contain the given string</li>                       
                    </ul>
                </p:column> 
                <p:column>                  
                    <ul>
                        <li>#{msgs.apiBaseUrl}/property</li> 
                        <li>#{msgs.apiBaseUrl}/property?name=length</li> 
                        
                    </ul>
                </p:column> 
            </p:row>
            
             <p:row>  
                <!--<p:column>Property</p:column>-->  
                <p:column>GET</p:column>  
                <p:column>
                    /property/{property-name}  
                </p:column>  
                <p:column>
                   Details of a property
                </p:column>
                <p:column>A <i>property</i></p:column>
                <p:column> 
                   
                </p:column> 
                <p:column>                  
                    <ul>
                        <li>#{msgs.apiBaseUrl}/property/ApertureDiameter</li> 
                    </ul>
                </p:column> 
            </p:row>
            
            <p:row>  
                <p:column rowspan="2">Slot</p:column>  
                <p:column>GET</p:column>  
                <p:column>
                    /slot                      
                </p:column>  
                <p:column>
                    List of slots                     
                </p:column>
                <p:column>List of <i>slot</i></p:column>
                <p:column> 
                    <ul>
                        <li><b>name</b> (optional): All slots that contain the given string are returned</li>
                        <li><b>type</b> (optional): All slots with device types that contain the given string are returned</li>
                        <li><b>tag</b> (optional): All slots whose tags match the given string are returned</li>
                        <li><b>detail</b> (optional): Specifies how much of data about slots should be returned. Default is none. It is a concatenation of following options:
                            <ul>
                                <li><b>a</b>: Approvals for the slot</li>                               
                                <li><b>p</b>: Associated properties and their values</li>
                                <li><b>r</b>: Related slots</li>
                                <li><b>s</b>: Statuses of slot, from checklist</li>
                                 <li><b>v</b>: Associated Process Variables</li>
                            </ul>
                        </li>
                    </ul>
                </p:column> 
                <p:column>
                    <ul>
                        <li>#{msgs.apiBaseUrl}/slot</li>
                        <li>#{msgs.apiBaseUrl}/slot?type=Q7</li>
                        <li>#{msgs.apiBaseUrl}/slot?name=FE&amp;type=Q7</li>
                        <li>#{msgs.apiBaseUrl}/slot?name=FE&amp;type=Q7&amp;detail=ps</li>
                        <li>#{msgs.apiBaseUrl}/slot?type=Q7&amp;tag=diag&amp;detail=r</li>
                        <li>#{msgs.apiBaseUrl}/slot?name=FE&amp;detail=prs</li>
                       
                    </ul>
                </p:column> 
            </p:row>
            
            <p:row>  
                <!--<p:column>Slot</p:column>-->  
                <p:column>GET</p:column>  
                <p:column>
                        /slot/{slot-name}
                </p:column>  
                <p:column>
                    Details of the given slot
                </p:column>
                <p:column>A <i>slot</i></p:column>
                <p:column> 
                    
                </p:column> 
                <p:column>
                    <ul>                    
                         <li>#{msgs.apiBaseUrl}/slot/FE_ISRC1:SOLR_D0682</li>
                    </ul>
                </p:column> 
            </p:row>
        </p:panelGrid>
    </p:panel>
</ui:composition>